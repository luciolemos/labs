<!DOCTYPE html>
<html lang="pt-br" data-theme="dark">
<head>
  <meta charset="utf-8">
  <title>{% block title %}{{ app_name ?? 'Agência' }}{% endblock %}</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="{% block meta_description %}Landing profissional em PHP + Twig{% endblock %}">
  <meta name="theme-color" content="#0b0f19">
  <script>
  (function () {
    const isValidTheme = (value) => value === "dark" || value === "light";
    const prefersLight = window.matchMedia && window.matchMedia("(prefers-color-scheme: light)").matches;
    let theme = prefersLight ? "light" : "dark";
    try {
      const saved = localStorage.getItem("theme");
      if (isValidTheme(saved)) theme = saved;
    } catch (e) {}
    document.documentElement.setAttribute("data-theme", theme);
    const meta = document.querySelector('meta[name="theme-color"]');
    if (meta) meta.setAttribute("content", theme === "dark" ? "#0b0f19" : "#f8fafc");
  })();
  </script>

  {# ==============================
     FAVICON / PWA (opcional)
     ============================== #}
  <link rel="icon" href="{{ base_url }}/assets/img/favicon.png">

  {# ==============================
     CSS — LIBS
     ============================== #}

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Fonts: Sora (titles) + Space Grotesk (body) + JetBrains Mono (tech labels) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;500;600;700;800&family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@500;700&display=swap" rel="stylesheet">

  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <!-- AOS Animate On Scroll -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

  {# ==============================
     CSS — APP
     ============================== #}

  <link href="{{ base_url }}/assets/css/app.css" rel="stylesheet">
  <link href="{{ base_url }}/assets/css/landing.css" rel="stylesheet">

  {% block head_extra %}{% endblock %}
</head>


<body class="bg-body text-body antialiased">

{# ==============================
   LOADER (opcional)
   ============================== #}

<div id="pageLoader" class="page-loader">
  <div class="spinner-border text-primary"></div>
</div>


{# ==============================
   CONTEÚDO
   ============================== #}

{% block content %}{% endblock %}



{# ==============================
   SCRIPTS — LIBS
   ============================== #}

<!-- Bootstrap bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- AOS -->
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>


{# ==============================
   CONFIG GLOBAL JS
   ============================== #}

<script>
window.APP = {
  baseUrl: "{{ base_url }}",
  env: "{{ app_env ?? 'prod' }}"
};
</script>


{# ==============================
   JS — APP CORE
   ============================== #}

<script src="{{ base_url }}/assets/js/landing.js"></script>


{% block body_extra %}{% endblock %}

</body>
</html>
